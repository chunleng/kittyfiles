# vim:fileencoding=utf-8:ft=conf:foldmethod=marker

#: Fonts {{{

font_family      Hack Nerd Font Regular
bold_font        Hack Nerd Font Bold
italic_font      iMWritingMonoS Nerd Font Italic
bold_italic_font iMWritingMonoS Nerd Font Bold Italic
# U+3000-U+303F CJK Symbols and Punctuation
# U+3040-U+309F Hiragana
# U+30A0-U+30FF Katakana
# U+FF00-U+FFEF Halfwidth and Fullwidth Forms
# U+4E00-U+9FAF CJK Ideographs
symbol_map       U+3000-U+303F,U+3040-U+309F,U+30A0-U+30FF,U+FF00-U+FFEF,U+4E00-U+9FFF Noto Sans Mono CJK SC Regular
font_size 14
adjust_line_height 20
# adjust_column_width 0
disable_ligatures always

#: }}}

#: Cursor customization {{{

cursor_shape beam
    # block, beam, underline

cursor_beam_thickness 2.0
# cursor_underline_thickness 2.0
# cursor_blink_interval -1
cursor_stop_blinking_after 2

#: }}}

#: Scrollback {{{

scrollback_lines 1000
scrollback_pager ~/.asdf/shims/nvim +'setlocal nolist nonumber nofoldenable norelativenumber showtabline=0' +'silent %s/\v([\[\][0-9;:]*[a-zA-Z]|\\)//g' +"autocmd VimEnter * normal G" +"nmap q <cmd>q!<cr>"
scrollback_pager_history_size 100000
# scrollback_fill_enlarged_window no
# wheel_scroll_multiplier 5.0
# touch_scroll_multiplier 1.0

#: }}}

#: Mouse {{{

mouse_hide_wait 3.0
# url_style curly
    # none, single, double, curly
# open_url_with default
# url_prefixes http https file ftp gemini irc gopher mailto news git
# detect_urls yes
copy_on_select yes
strip_trailing_spaces always
# select_by_word_characters @-./_~?&=%+#
# click_interval -1.0
# focus_follows_mouse no

# pointer_shape_when_grabbed arrow
# default_pointer_shape beam
# pointer_shape_when_dragging beam
    # arrow, beam, hand

#: Mouse actions {{{

# Default
mouse_map kitty_mod+left      press ungrabbed mouse_selection rectangle
mouse_map shift+left          press ungrabbed mouse_selection extend

#: }}}

#: }}}

#: Performance tuning {{{

# repaint_delay 10
# input_delay 3
# sync_to_monitor yes

#: }}}

#: Terminal bell {{{

# enable_audio_bell yes
# visual_bell_duration 0.0
# window_alert_on_bell yes
# bell_on_tab yes
# command_on_bell none

#: }}}

#: Window layout {{{

# remember_window_size  yes
# initial_window_width  640
# initial_window_height 400
enabled_layouts splits,stack
# window_resize_step_cells 2
# window_resize_step_lines 2
window_border_width 0.5pt
# draw_minimal_borders yes
# window_margin_width 0
# single_window_margin_width -1
# window_padding_width 0
placement_strategy top-left
inactive_text_alpha 0.7
hide_window_decorations yes
# resize_debounce_time 0.1
# resize_draw_strategy static
# resize_in_steps no
confirm_os_window_close 1

#: }}}

#: Tab bar {{{

# tab_bar_edge bottom
# tab_bar_margin_width 0.0
# tab_bar_margin_height 0.0 0.0
tab_bar_style powerline
# tab_bar_min_tabs 2
# tab_switch_strategy previous
# tab_fade 0.25 0.5 0.75 1
# tab_separator " ┇"
tab_powerline_style slanted
tab_activity_symbol 
tab_title_template "{title}"
active_tab_title_template " {title[:10]}  {num_windows}"
active_tab_font_style   bold
# inactive_tab_font_style normal
# tab_bar_background none

#: }}}

#: Color scheme {{{

# Base16 Tomorrow Night
# https://github.com/kdrag0n/base16-kitty/blob/master/colors/base16-tomorrow-night.conf
# ! with color 9~14 made brighter

background #1d1f21
foreground #c5c8c6
selection_background #c5c8c6
selection_foreground #1d1f21
url_color #b4b7b4
cursor #c5c8c6
active_border_color #969896
inactive_border_color #282a2e
active_tab_background #1d1f21
active_tab_foreground #c5c8c6
inactive_tab_background #282a2e
inactive_tab_foreground #b4b7b4
tab_bar_background #282a2e

# normal
color0 #1d1f21
color1 #cc6666
color2 #b5bd68
color3 #f0c674
color4 #81a2be
color5 #b294bb
color6 #8abeb7
color7 #c5c8c6

# bright
color8 #969896
color9 #d98c8c
color10 #c2c983
color11 #f5daa3
color12 #9ab4cb
color13 #c7b1cd
color14 #9cc9c3
color15 #ffffff

# background_opacity 1.0
# background_image none
# background_image_layout tiled
# background_image_linear no
# dynamic_background_opacity no
# background_tint 0.0
# dim_opacity 0.75

#: }}}

#: Advanced {{{

# shell .
# editor .
# close_on_child_death no
allow_remote_control socket-only

listen_on unix:/tmp/mykitty
# update_check_interval 24
# startup_session none
# clipboard_control write-clipboard write-primary
# allow_hyperlinks yes
# term xterm-kitty

#: }}}

#: OS specific tweaks {{{

# wayland_titlebar_color system
# macos_titlebar_color system
# macos_option_as_alt no
# macos_hide_from_tasks no
macos_quit_when_last_window_closed yes
# macos_window_resizable yes
# macos_thicken_font 0
# macos_traditional_fullscreen no
macos_show_window_title_in none
# macos_custom_beam_cursor no
# linux_display_server auto

#: }}}

#: Keyboard shortcuts {{{

kitty_mod cmd+ctrl

clear_all_shortcuts yes

# Kitty Command
map kitty_mod+c>r load_config_file
map kitty_mod+c>? debug_config
map kitty_mod+c>: kitty_shell window

map kitty_mod++ change_font_size current +2.0
map kitty_mod+- change_font_size current -2.0
map kitty_mod+0 change_font_size current 0
map cmd+n new_os_window
map kitty_mod+v kitten unicode_input
map kitty_mod+backspace clear_terminal reset active

# Tab
map ctrl+tab next_tab
map kitty_mod+n next_tab
map ctrl+shift+tab previous_tab
map kitty_mod+p previous_tab
map cmd+w close_tab
map cmd+t new_tab
map kitty_mod+t new_tab
map kitty_mod+. move_tab_forward
map kitty_mod+, move_tab_backward
map kitty_mod+r set_tab_title

# Window
map kitty_mod+j neighboring_window bottom
map kitty_mod+w>x close_window
map kitty_mod+w>j launch --location=hsplit
map kitty_mod+k neighboring_window top
map kitty_mod+w>k combine : launch --location=hsplit : move_window up
map kitty_mod+h neighboring_window left
map kitty_mod+w>h combine : launch --location=vsplit : move_window left
map kitty_mod+l neighboring_window right
map kitty_mod+w>l launch --location=vsplit
map kitty_mod+z next_layout
    # Simulate Tmux Zoom Effect
map kitty_mod+{ move_window left
map kitty_mod+} move_window right
map kitty_mod+space start_resizing_window
map kitty_mod+m detach_window ask

map kitty_mod+[ show_scrollback
map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard

# Expanding Keycode
map shift+enter send_text all \x1b[13;2u
map ctrl+enter send_text all \x1b[13;5u

# Fig Kitty Integration: Enabled
watcher ${HOME}/.fig/tools/kitty-integration.py
# End of Fig Kitty Integration
